extends ../layouts/common

block content
    h1 
        span.mr-3 Users
        a.btn.btn-primary(href="/users/create") New
    
    .d-flex.align-items-center
        form.ml-auto.mb-3(action="/users/search", method= "GET", class="d-flex")
            input(type="text", name= "q", id="searchItem", class="form-control mr-2")
            button(class="btn btn-primary") Search

    table.table
        tr
            th Name
            th Phone
            th Action

        each user in users
            tr
                td= user.name
                td= user.phone
                td
                    a.btn.btn-light(href='/users/' + user.id) View

    script.
        var searchInput = document.getElementById('searchItem');
        searchInput.value = sessionStorage.getItem('draft');
        searchInput.addEventListener('change', function(){
        sessionStorage.setItem('draft', searchInput.value);
        });